
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wordlink || Sign Up</title>
    <link rel="icon" href="./images/icon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', sans-serif;
        background: #f3f4f6; /* Added a default background color */
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .form-container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 24px;
        padding: 40px;
        width: 100%;
        max-width: 420px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden; /* Crucial: Clips the carousel pages */
        position: relative;
      }

      .logo {
        text-align: center;
        margin-bottom: 24px;
      }

      .logo img {
        width: 50px;
        height: 50px;
      }

      .progress-bar {
        display: flex;
        gap: 8px;
        margin-bottom: 32px;
      }

      .progress-step {
        height: 4px;
        flex: 1;
        background: rgba(10, 132, 255, 0.1);
        border-radius: 2px;
        transition: all 0.3s ease;
      }

      .progress-step.active {
        background: linear-gradient(135deg, #0A84FF 0%, #0070e0 100%);
      }

      /* Fixed Carousel Logic */
      .carousel-wrapper {
        overflow: hidden; /* Contains the sliding strip */
      }

      .carousel {
        display: flex;
        transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        width: 300%; /* 3 pages = 300% */
      }

      .carousel-page {
        width: 33.33333%; /* Each page is exactly 1/3 of the 300% strip */
        flex-shrink: 0;
        padding: 0 4px; /* Slight horizontal padding instead of margins */
      }

      h2 { font-size: 24px; font-weight: 700; margin-bottom: 8px; color: #1a1a1a; }
      .subtitle { color: #6b7280; font-size: 14px; margin-bottom: 24px; }

      .input-group { margin-bottom: 20px; }
      
      input {
        width: 100%;
        padding: 16px 20px;
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        font-size: 16px;
        transition: all 0.3s ease;
        outline: none;
      }

      input:focus { border-color: #0A84FF; box-shadow: 0 0 0 4px rgba(10, 132, 255, 0.1); }

      .fullname { display: flex; gap: 12px; margin-bottom: 20px; }
      
      button {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, #0A84FF 0%, #0070e0 100%);
        border: none;
        border-radius: 16px;
        color: white;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      button:disabled { opacity: 0.5; cursor: not-allowed; }

      .btn-group { display: flex; gap: 12px; margin-top: 16px; }
      .btn-secondary { background: #f3f4f6; color: #6b7280; border: 1px solid #e5e7eb; }

      .msg {
        margin-top: 12px;
        font-size: 13px;
        min-height: 18px;
        text-align: center;
        border-radius: 8px;
      }
      .msg.error { color: #dc2626; padding: 8px; background: #fef2f2; }

      .profile-preview {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin: 0 auto 20px;
        background: #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px dashed #0A84FF;
        overflow: hidden;
      }
      .profile-preview img { width: 100%; height: 100%; object-fit: cover; }

      @media (max-width: 480px) {
        .form-container { padding: 24px; }
        .fullname { flex-direction: column; }
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <div class="logo">
        <img src="./images/icon2.png" alt="WordLink">
      </div>
      
      <div class="progress-bar">
        <div class="progress-step active" id="step1"></div>
        <div class="progress-step" id="step2"></div>
        <div class="progress-step" id="step3"></div>
      </div>

      <form id="signupForm">
        <div class="carousel-wrapper">
          <div class="carousel" id="carousel">
            <div class="carousel-page">
              <h2>Create Account</h2>
              <p class="subtitle">Join WordLink today</p>
              
              <div class="fullname">
                <input type="text" id="firstname" placeholder="First Name" required />
                <input type="text" id="lastname" placeholder="Last Name" required />
              </div>
              
              <div class="input-group">
                <input type="text" id="username" placeholder="@username" required />
              </div>
              
              <div class="input-group">
                <input type="email" id="email" placeholder="Email" required />
              </div>

              <div class="input-group">
                <input type="password" id="password" placeholder="Password" required />
              </div>

              <div class="input-group">
                <input type="password" id="confirmPassword" placeholder="Confirm Password" required />
              </div>
              
              <button type="button" id="nextBtn1">Continue</button>
              <div class="msg" id="msg1"></div>
            </div>

            <div class="carousel-page">
              <h2>Date of Birth</h2>
              <p class="subtitle">Enter your birth date to continue</p>
              
              <div class="fullname">
                <input type="number" id="day" placeholder="DD" min="1" max="31" />
                <input type="number" id="month" placeholder="MM" min="1" max="12" />
                <input type="number" id="year" placeholder="YYYY" min="1900" max="2024" />
              </div>
              
              <div class="btn-group">
                <button type="button" class="btn-secondary" id="backBtn1">Back</button>
                <button type="button" id="nextBtn2">Continue</button>
              </div>
              <div class="msg" id="msg2"></div>
            </div>

            <div class="carousel-page">
              <h2>Profile Picture</h2>
              <p class="subtitle">Final step! Add a photo.</p>
              
              <div class="profile-preview" id="profilePreview">
                <span>ðŸ“¸</span>
              </div>
              
              <input type="file" id="profilePic" accept="image/*" style="margin-bottom: 20px;">
              
              <div class="btn-group">
                <button type="button" class="btn-secondary" id="backBtn2">Back</button>
                <button type="submit" id="submitBtn">Create Account</button>
              </div>
              <div class="msg" id="msg3"></div>
            </div>
          </div>
        </div>
      </form>
    </div>

    <script>
      let currentPage = 0;
      const carousel = document.getElementById("carousel");
      const progressSteps = document.querySelectorAll(".progress-step");

      // Core Navigation Function (Using Percentages for reliability)
      function goToPage(pageNum) {
        currentPage = pageNum;
        const shift = pageNum * (100 / 3); // Based on 3 pages
        carousel.style.transform = `translateX(-${shift}%)`;
        
        progressSteps.forEach((step, index) => {
          step.classList.toggle("active", index <= pageNum);
        });
      }

      // Helper: Show error messages
      function showError(id, text) {
        const el = document.getElementById(id);
        el.textContent = text;
        el.className = text ? "msg error" : "msg";
      }

      // Page 1 -> 2
      document.getElementById("nextBtn1").addEventListener("click", () => {
        const pass = document.getElementById("password").value;
        const confirm = document.getElementById("confirmPassword").value;
        const email = document.getElementById("email").value;

        if (!email.includes("@")) return showError("msg1", "Enter a valid email");
        if (pass.length < 8) return showError("msg1", "Password must be 8+ characters");
        if (pass !== confirm) return showError("msg1", "Passwords do not match");

        showError("msg1", ""); // Clear errors
        goToPage(1);
      });

      // Page 2 -> 3
      document.getElementById("nextBtn2").addEventListener("click", () => {
        const d = document.getElementById("day").value;
        const m = document.getElementById("month").value;
        const y = document.getElementById("year").value;

        if (!d || !m || !y) return showError("msg2", "Please complete your DOB");
        
        showError("msg2", "");
        goToPage(2);
      });

      // Back Buttons
      document.getElementById("backBtn1").addEventListener("click", () => goToPage(0));
      document.getElementById("backBtn2").addEventListener("click", () => goToPage(1));

      // Image Preview
      document.getElementById("profilePic").addEventListener("change", function(e) {
        if (this.files && this.files[0]) {
          const reader = new FileReader();
          reader.onload = (event) => {
            document.getElementById("profilePreview").innerHTML = `<img src="${event.target.result}">`;
          };
          reader.readAsDataURL(this.files[0]);
        }
      });
    </script>
  </body>
  </html>
  
